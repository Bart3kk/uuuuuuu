local image = _G.CodexSpooferImage or nil -- 9524079125
local text = _G.CodexSpooferText or nil -- "Synapse X"
local powered = _G.CodexSpooferPoweredBy or nil -- "Powered by Nameless Admin"

function curse()
	local length = math.random(10, 20)
	local array = {}
	for i = 1, length do
		array[i] = string.char(math.random(32, 126))
	end
	return table.concat(array)
end

if image or text or powered then
	-- old build
	loadstring(game:HttpGet("https://github.com/ltseverydayyou/uuuuuuu/blob/main/codex%20clickbait?raw=codex"))()
else
	if not _G.CodexUiCustomSettings then
		_G.CodexUiCustomSettings = {
			CodexSpooferImage = 9524079125,
			CodexSpooferText = "Synapse X",
			CodexSpooferPoweredBy = "Powered by Nameless Admin",
			FloatingIconColor = Color3.fromRGB(59, 59, 59),
			MainUiBackground = Color3.fromRGB(20, 20, 20),
			Icons = Color3.fromRGB(170, 85, 127),
			IconsOff = Color3.fromRGB(0, 0, 0),
			ConsoleEnabled = true,
			Fade = true
		}
	end

	_G.LoadedCodexSwitcher = {_G.CodexUiCustomSettings, tick(), math.random(0, 10000)}
	local patch = _G.LoadedCodexSwitcher
	local floatingColor = _G.CodexUiCustomSettings["FloatingIconColor"] or Color3.fromRGB(59, 59, 59)
	local MainUiBackground = _G.CodexUiCustomSettings["MainUiBackground"] or Color3.fromRGB(20, 20, 20)
	local image = _G.CodexUiCustomSettings["CodexSpooferImage"] or 9524079125 -- new
	local text = _G.CodexUiCustomSettings["CodexSpooferText"] or "Synapse X"
	local powered = _G.CodexUiCustomSettings["CodexSpooferPoweredBy"] or "Powered by Nameless Admin"
	local Fadeobject = _G.CodexUiCustomSettings["Fade"] or true
	local IconsOn = _G.CodexUiCustomSettings["IconsOn"] or Color3.fromRGB(170, 85, 127)
	local IconsOff = _G.CodexUiCustomSettings["IconsOff"] or Color3.fromRGB(0, 0, 0)
	local ConsoleEnabled = _G.CodexUiCustomSettings["ConsoleEnabled"] or true

	repeat wait() until game.CoreGui:FindFirstChild("Codex")
	local CodexFolder = game.CoreGui:WaitForChild("Codex")

	spawn(function()
		if CodexFolder and CodexFolder:IsA("Folder") then
			wait(12)
			local gui = Instance.new("ScreenGui")
			gui.Name = curse()
			for _, child in ipairs(CodexFolder:GetChildren()) do
				child.Parent = gui
			end
			gui.Parent = game.CoreGui
			CodexFolder:Destroy()
		end
	end)

	local curUi = game.CoreGui:WaitForChild("Codex"):WaitForChild("gui")

	local CodexUi = game:GetService("RunService"):IsStudio() and game.StarterGui:WaitForChild("Codex") or game:GetService("CoreGui"):WaitForChild("Codex")
	local gui = nil
	if CodexUi or _G.Codex_gui_Object then
		gui = _G.Codex_gui_Object or curUi
	end

	if not gui then
		return warn("unable to find codex")
	end

	_G.Codex_gui_Object = gui

	local function HideForever(object)
		object.Visible = false
		local Patch1 = object:GetPropertyChangedSignal("Visible"):Connect(function()
			if Patch1 and _G.LoadedCodexSwitcher ~= patch then
				Patch1:Disconnect()
			end
			object.Visible = false
		end)
	end

	if Fadeobject then
		local fade = gui:WaitForChild("fade")
		HideForever(fade)
	end

	gui.tabs.editor.contentContainer.inputBox.MultiLine = true
	local navbar = gui:WaitForChild("navbar")
	navbar:WaitForChild("floatingIcon"):FindFirstChildWhichIsA("ImageLabel").Image = "http://www.roblox.com/asset/?id=" .. image
	navbar:WaitForChild("main"):FindFirstChildWhichIsA("ImageLabel").Image = "http://www.roblox.com/asset/?id=" .. image
	navbar:WaitForChild("main"):WaitForChild("title").Text = text

	if _G.LoadedCodexSwitcherHooks then
		for _, v in pairs(_G.LoadedCodexSwitcherHooks) do
			if v then pcall(function() v:Disconnect() end) end
		end
		_G.LoadedCodexSwitcherHooks = {}
	end

	local iconConnections = {}
	local function ChangeIcon(object)
		local iconConnection
		local icon = object:WaitForChild("icon")

		iconConnection = icon:GetPropertyChangedSignal("ImageColor3"):Connect(function()
			if icon.ImageColor3 == Color3.fromRGB(151, 158, 189) then
				icon.ImageColor3 = IconsOff
			elseif icon.ImageColor3 ~= IconsOff and icon.ImageColor3 ~= IconsOn then
				icon.ImageColor3 = IconsOn
			end
		end)
		table.insert(iconConnections, iconConnection)
		icon.ImageColor3 = IconsOff
	end

	navbar:WaitForChild("floatingIcon").BackgroundColor3 = floatingColor
	navbar:WaitForChild("main").BackgroundColor3 = MainUiBackground
	gui:WaitForChild("background").BackgroundColor3 = MainUiBackground

	for _, v in pairs(navbar:WaitForChild("main"):WaitForChild("container"):GetChildren()) do
		if v:IsA("TextButton") then
			task.spawn(function()
				ChangeIcon(v)
			end)
		end
	end

	ChangeIcon(navbar:WaitForChild("main"):WaitForChild("settings"))

	for _, tab in pairs(gui:WaitForChild("tabs"):GetChildren()) do
		local buttons = tab:FindFirstChild("buttons")
		if buttons then
			for _, btn in pairs(buttons:GetChildren()) do
				if btn:IsA("TextButton") then
					task.spawn(function()
						ChangeIcon(btn)
					end)
				end
			end
		end
	end

	local title = navbar:WaitForChild("main"):WaitForChild("title"):GetPropertyChangedSignal("Text"):Connect(function()
		if title and _G.LoadedCodexSwitcher ~= patch then
			title:Disconnect()
		end
		navbar:WaitForChild("main"):WaitForChild("title").Text = text
	end)

	local poweredBy = navbar:WaitForChild("main"):WaitForChild("poweredBy"):GetPropertyChangedSignal("Text"):Connect(function()
		if poweredBy and _G.LoadedCodexSwitcher ~= patch then
			poweredBy:Disconnect()
		end
		navbar:WaitForChild("main"):WaitForChild("poweredBy").Text = powered
	end)

	navbar:WaitForChild("main"):WaitForChild("poweredBy").Text = powered

	if ConsoleEnabled then
		local console = navbar:WaitForChild("main"):WaitForChild("container"):WaitForChild("console")
		console.Name = curse()
	end

	_G.LoadedCodexSwitcherHooks = {["Icons"] = iconConnections}
end