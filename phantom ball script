local Debug = false
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Players = game:GetService("Players")

local Player = Players.LocalPlayer or Players.PlayerAdded:Wait()
local Remotes = ReplicatedStorage:WaitForChild("Network_Generated", 9e9)
local Ball = workspace:WaitForChild("GameBall", 9e9)
db = false

-- Functions

local function print(...) -- Debug print.
    if Debug then
        warn(...)
    end
end

local function VerifyBall(Ball)
    if Ball:IsA("BasePart") then
        return true
    end
end

local function IsTarget()
    return (Player.Character and Player.Character:FindFirstChild("PlayerBallHighlight"))
end
local connect=db
waiter = task.wait(2)
Player.Character.ChildAdded:Connect(function(hi)
if hi.Name == "PlayerBallHighlight" then
db = false
waiter
connect=false
end
end)
Player.Character.ChildRemoved:Connect(function(hi)
if hi.Name == "PlayerBallHighlight" then
db = true
waiter:Disconnect()
connect:Disconnect()
end
end)
local function Parry()
    local args = {
        [1] = 5.520474058077904e+76,
        [2] = 1,
        [3] = 2.933813859058389e+76
    }

    Remotes.GeneratedEvent241:FireServer(unpack(args))
end

-- The actual code
    if not VerifyBall(Ball) then
        return
    end
    
    local OldPosition = Ball.Position
    local OldTick = tick()
    
    Ball:GetPropertyChangedSignal("Position"):Connect(function()
        if IsTarget() then
            local Distance = (Ball.Position - workspace.CurrentCamera.Focus.Position).Magnitude
            local Velocity = (OldPosition - Ball.Position).Magnitude -- Fix for .Velocity not working. Yes I got the lowest possible grade in accuplacer math.
            
            print(`Distance: {Distance}\nVelocity: {Velocity}\nTime: {Distance / Velocity}`)
        
            if (Distance / Velocity) <= 10 then
if not db then
                Parry()
db = true
end
            end
        end
        
        if (tick() - OldTick >= 1/60) then
            OldTick = tick()
            OldPosition = Ball.Position
        end
    end) 
--v3
---------


--[[local Debug = false
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Players = game:GetService("Players")

local Player = Players.LocalPlayer or Players.PlayerAdded:Wait()
local Remotes = ReplicatedStorage:WaitForChild("Network_Generated", 9e9)
local Ball = workspace:WaitForChild("GameBall", 9e9)
db = false

-- Functions

local function print(...) -- Debug print.
    if Debug then
        warn(...)
    end
end

local function VerifyBall(Ball)
    if Ball:IsA("BasePart") then
        return true
    end
end

local function IsTarget()
    return (Player.Character and Player.Character:FindFirstChild("PlayerBallHighlight"))
end
Player.Character.ChildAdded:Connect(function(hi)
if hi.Name == "PlayerBallHighlight" then
db = false
end
end)
local function Parry()
    local args = {
        [1] = 5.520474058077904e+76,
        [2] = 1,
        [3] = 2.933813859058389e+76
    }

    Remotes.GeneratedEvent241:FireServer(unpack(args))
end

-- The actual code
    if not VerifyBall(Ball) then
        return
    end
    
    local OldPosition = Ball.Position
    local OldTick = tick()
    
    Ball:GetPropertyChangedSignal("Position"):Connect(function()
        if IsTarget() then
            local Distance = (Ball.Position - workspace.CurrentCamera.Focus.Position).Magnitude
            local Velocity = (OldPosition - Ball.Position).Magnitude -- Fix for .Velocity not working. Yes I got the lowest possible grade in accuplacer math.
            
            print(`Distance: {Distance}\nVelocity: {Velocity}\nTime: {Distance / Velocity}`)
        
            if (Distance / Velocity) <= 10 then
if not db then
                Parry()
db = true
end
            end
        end
        
        if (tick() - OldTick >= 1/60) then
            OldTick = tick()
            OldPosition = Ball.Position
        end
    end) 
--v3
]]
